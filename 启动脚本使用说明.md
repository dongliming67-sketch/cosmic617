# 🚀 一键启动脚本使用说明

## 📋 脚本列表

本项目提供了两个一键启动脚本：

### 1. `启动.bat` - Windows批处理脚本（推荐）
- ✅ 兼容性最好，所有Windows系统都可直接运行
- ✅ 双击即可运行，无需额外配置
- ✅ 彩色界面，清晰的进度提示

### 2. `启动.ps1` - PowerShell脚本
- ✅ 功能更强大，错误处理更完善
- ✅ 更美观的彩色输出
- ⚠️ 可能需要设置执行策略（见下方说明）

---

## 🎯 使用方法

### 方法一：使用批处理脚本（最简单）

1. **双击运行** `启动.bat` 文件
2. 脚本会自动：
   - ✅ 检查Node.js环境
   - ✅ 安装项目依赖（如果未安装）
   - ✅ 检查配置文件
   - ✅ 启动后端和前端服务
   - ✅ 自动打开浏览器访问 http://localhost:5173

### 方法二：使用PowerShell脚本

1. **右键点击** `启动.ps1` 文件
2. 选择 **"使用PowerShell运行"**

如果遇到执行策略错误，请以管理员身份运行PowerShell，执行：
```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

---

## 📝 首次运行注意事项

### 1. 确保已安装Node.js
- 如果未安装，请访问 https://nodejs.org/ 下载安装
- 推荐安装LTS（长期支持）版本

### 2. 配置API密钥（重要！）
首次运行时，如果没有`.env`文件，脚本会自动创建。你需要：

1. 访问 https://bigmodel.cn 注册账号
2. 获取免费的API Key
3. 编辑 `.env` 文件，填入你的API密钥：

```env
OPENAI_API_KEY=你的智谱API密钥
OPENAI_BASE_URL=https://open.bigmodel.cn/api/paas/v4
OPENAI_MODEL=glm-4-flash
```

### 3. 等待依赖安装
- 首次运行会自动安装所有依赖包
- 根据网络速度，可能需要3-10分钟
- 后续运行会跳过此步骤，启动速度很快

---

## 🌐 访问地址

启动成功后，浏览器会自动打开以下地址：

- **前端界面**: http://localhost:5173
- **后端API**: http://localhost:3001

---

## ⚙️ 脚本功能详解

### 自动检查项
1. ✅ **Node.js环境检测** - 确保运行环境正常
2. ✅ **依赖包检查** - 自动安装缺失的依赖
3. ✅ **配置文件验证** - 确保.env文件存在
4. ✅ **服务启动** - 同时启动前后端服务
5. ✅ **浏览器打开** - 3秒后自动打开应用

### 错误处理
- ❌ Node.js未安装 → 提示下载地址
- ❌ 依赖安装失败 → 显示错误信息并暂停
- ❌ 配置文件缺失 → 自动创建并提示配置

---

## 🛑 停止服务

在运行窗口中按 `Ctrl + C` 即可停止所有服务

---

## 💡 常见问题

### Q1: 双击.bat文件后闪退？
**A**: 可能是Node.js未安装。请先安装Node.js后再运行。

### Q2: 提示"端口已被占用"？
**A**: 说明3001或5173端口已被其他程序使用。请关闭占用端口的程序，或修改`.env`文件中的端口配置。

### Q3: 浏览器没有自动打开？
**A**: 等待服务完全启动后，手动访问 http://localhost:5173

### Q4: PowerShell脚本无法运行？
**A**: 以管理员身份运行PowerShell，执行：
```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

### Q5: 依赖安装速度很慢？
**A**: 可以配置npm使用国内镜像：
```bash
npm config set registry https://registry.npmmirror.com
```

---

## 🔧 手动启动方式

如果不想使用一键脚本，也可以手动启动：

```bash
# 1. 安装依赖（仅首次需要）
npm install
cd client && npm install

# 2. 启动服务
npm run dev
```

---

## 📞 技术支持

如遇到问题，请检查：
1. Node.js版本是否 >= 16.0
2. 网络连接是否正常
3. 防火墙是否阻止了端口访问
4. .env文件中的API密钥是否正确

---

## 🎉 享受使用！

现在你可以：
1. 上传Word/Markdown/文本文档
2. 让AI自动进行COSMIC功能规模拆分
3. 导出标准Excel表格
4. 与AI对话优化拆分结果

**祝使用愉快！** 🚀
